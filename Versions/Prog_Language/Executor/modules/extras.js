var A=(r,u)=>()=>(u||r((u={exports:{}}).exports,u),u.exports);var B=A(($,K)=>{"use strict";K.exports=r=>{r=Object.assign({onlyFirst:!1},r);let u=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(u,r.onlyFirst?void 0:"g")}});var M=A((H,R)=>{"use strict";var z=B(),C=r=>typeof r=="string"?r.replace(z(),""):r;R.exports=C;R.exports.default=C});var D=A((J,j)=>{"use strict";var g=require("fs"),E=M(),P=13;function F(r){r=r||{};var u=r.sigint,p=r.eot,b=r.autocomplete=r.autocomplete||function(){return[]},i=r.history;return w.history=i||{save:function(){}},w.hide=function(s){return w(s,{echo:""})},w;function w(s,n,o){var e=0,f=0,a,T,v;o=o||{},Object(s)===s?(o=s,s=o.ask):Object(n)===n&&(o=n,n=o.value),s=s||"";var q=o.echo,d="echo"in o;b=o.autocomplete||b;var m=process.platform==="win32"?process.stdin.fd:g.openSync("/dev/tty","rs"),y=process.stdin.isRaw;y||process.stdin.setRawMode&&process.stdin.setRawMode(!0);var l=Buffer.alloc(3),t="",c,x;v="",s&&process.stdout.write(s);for(var S=0,O;;){if(x=g.readSync(m,l,0,3),x>1){switch(l.toString()){case"\x1B[A":if(d||!i||i.atStart())break;i.atEnd()&&(v=t,f=e),t=i.prev(),e=t.length,process.stdout.write("\x1B[2K\x1B[0G"+s+t);break;case"\x1B[B":if(d||!i||i.pastEnd())break;i.atPenultimate()?(t=v,e=f,i.next()):(t=i.next(),e=t.length),process.stdout.write("\x1B[2K\x1B[0G"+s+t+"\x1B["+(e+s.length+1)+"G");break;case"\x1B[D":if(d)break;var Z=e;e=--e<0?0:e,Z-e&&process.stdout.write("\x1B[1D");break;case"\x1B[C":if(d)break;e=++e>t.length?t.length:e,process.stdout.write("\x1B["+(e+s.length+1)+"G");break;default:l.toString()&&(t=t+l.toString(),t=t.replace(/\0/g,""),e=t.length,G(d,s,q,t,e),process.stdout.write("\x1B["+(e+s.length+1)+"G"),l=Buffer.alloc(3))}continue}if(c=l[x-1],c==3)return process.stdout.write(`^C
`),g.closeSync(m),u&&process.exit(130),process.stdin.setRawMode&&process.stdin.setRawMode(y),null;if(c==4&&t.length==0&&p&&(process.stdout.write(`exit
`),process.exit(0)),c==P){if(g.closeSync(m),!i)break;!d&&t.length&&i.push(t),i.reset();break}if(c==9){if(a=b(t),t==a[0]?a=b(""):O=a.length,a.length==0){process.stdout.write("	");continue}var h=a[S++]||a[S=0,S++];h&&(process.stdout.write("\r\x1B[K"+s+h),t=h,e=h.length)}if(c==127||process.platform=="win32"&&c==8){if(!e)continue;t=t.slice(0,e-1)+t.slice(e),e--,process.stdout.write("\x1B[2D")}else{if(c<32||c>126)continue;t=t.slice(0,e)+String.fromCharCode(c)+t.slice(e),e++}G(d,s,q,t,e)}return process.stdout.write(`
`),process.stdin.setRawMode&&process.stdin.setRawMode(y),t||n||""}function G(s,n,o,e,f){if(s)process.stdout.write("\x1B[2K\x1B[0G"+n+Array(e.length+1).join(o));else{process.stdout.write("\x1B[s"),f==e.length||n?process.stdout.write("\x1B[2K\x1B[0G"+n+e):process.stdout.write("\x1B[2K\x1B[0G"+e+"\x1B["+(e.length-f)+"D");var a=E(n).length;process.stdout.write(`\x1B[${a+1+(o==""?0:f)}G`)}}}j.exports=F});var _=D()(),{spawnSync:I}=require("child_process"),{platform:L}=require("os");module.exports={prompt:()=>_("> "),sleep:r=>Atomics.wait(new Int32Array(new SharedArrayBuffer(4)),0,0,r*1e3),getOS:()=>L()==="win32"?"Windows":"Linux",runCommand:(r,u=[])=>{let p=I(r,u,{shell:!0,encoding:"utf8"});if(p.stderr.trim()!=="")throw p.stderr;return p.stdout}};
